<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Afford</title>
  <link rel="stylesheet" href="./css/style.css" type="text/css" />

  <script>

      const formatter = new Intl.NumberFormat('en-US',{
        style: 'curreny',
        currency: 'USD',
      })

      function calculate(){
        var income = parseFloat(document.getElementById("grossincome").value);
        var expense = parseFloat(document.getElementById("totalexpense").value);

        //Multipled income by 12 to reflect yearly gross income
        var calIncome = (income * 12) * 0.29;

        //Multiplied expense by 12 to reflect yearly expenses
        var calAmount = 0.39 * ((income * 12) - (expense * 12));

        //Convert to two decimal places
        var conIncome = calIncome.toFixed(2);
        var conAmount = calAmount.toFixed(2);

        if (calIncome > calAmount){
          document.getElementById('result').textContent = "The maximum affordable payment is $" + conAmount;

          document.getElementById('percentage').textContent = "The percentage used was 39%";

        }
        else {
          document.getElementById('result').textContent = "The maximum affordable payment is $" + conIncome;

          document.getElementById('percentage').textContent = "The percentage used was 29%";
        }

      }

  </script>
</head>

<body>

  <nav>
    <div class="menu">
      <a href="index.html">Home</a>
      <a class="active" href="afford.html">Afford</a>
      <a href="compundinterest.html">Compound Interest</a>
      <a href="payment.html">Payment</a>
    </div>
  </nav>

  <header>
    <ul class="breadcrumb">
      <li><a href="#">assignment4</a></li>
      <li><a href="#">kaitlynz</a></li>
      <li>afford</li>
    </ul>
  </header>

  <div class="columns">
    <div class="left">
      <p>Estimate the maximum affordable house payment based on your family's gross income and expenses.</p>
    </div>

    <div class="right">
      <form class="afford">
        <p>
          <label>Gross Monthly Income:</label>
          <input type="number" id="grossincome">
        </p>
        <p>
          <label>Total Monthly Expenses:</label>
          <input type="number" id="totalexpense">
        </p>
      </form>

      <!--Display value in another control (widget)-->
      <button onclick="calculate()">Calculate</button>
      <br />
      <br />
      <label id="result"></label>
      <br />
      <label id="percentage"></label>

    </div>
  </div>

  <footer>
    <img src="images/clownery.png" alt="logo">
    <p>Kaitlyn Zhang &copy;</p>
  </footer>

  <hr />

  <img src="images/afford.PNG" alt="validation report for afford page">

</body>
</html>
